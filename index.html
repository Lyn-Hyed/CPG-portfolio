<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="cpg.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
      rel="stylesheet"
    />
    <title>LYN MATHEW PORTFOLIO</title>
    
  </head>
  <body>
    <!--  NAVBAR -->
    <nav class="navbar">
      <div class="M-LOGO">LM</div>

      <ul class="nav2">
        <li>
          <a href="#home">HOME</a>
        </li>
        <li>
          <a href="#about">ABOUT</a>
        </li>
        <li>
          <a href="#project">PROJECT</a>
        </li>
        <li>
          <a href="#contact">CONTACT</a>
        </li>
        <li>
          <a href="#messages">MESSAGES</a>
        </li>
      </ul>
    </nav>

    <!--HERO SECTION-->

    <section class="hero-section" id="home">
      <div class="hero-content">
        <img src="lyn.jpg" alt="portfolio picture" class="profile-img" />
        <h1>HELLO MY NAME IS <span> LYN MATHEW</span></h1>
        <p>Aspiring web developer & UI/UX designer / science educator</p>

        <a href="" class="btn"> view my work </a>
      </div>
    </section>

    <!--ABOUT SECTION-->

    <section class="about-section" id="about">
      <h2>ABOUT ME</h2>
      <p>
        i'm a graduate of the university of Jos,where i studied Integrated
        Science Education. I'm currently training with CPG to become a Web
        Developer and UI/UX Designer. I'm passionate about creating digital
        experiences that combine functionality and creativity, while learning
        the art of coding and user-centered design.
      </p>
    </section>

    <!--PROJECT section-->
    <section class="project-section" id="project">
      <h2>projects</h2>
      <div class="project-cards">
        <div class="project-card">
          <img src="portfolioa50c.jpg" alt="project-1" />
          <h3>PROJECT ONE</h3>
          <p>
            A portfolio with improved UI/UX qualities.Developed with figma,
            while undergoing my training at CPG.
          </p>
        </div>

        <div class="project-card">
          <img src="frontend C.jpg" alt="project-1" />
          <h3>PROJECT TWO</h3>
          <p>
            A portfolio developed with html and css. During my CPG web
            development training .
          </p>
        </div>

        <div class="project-card">
          <img src="Simple portc.jpg" alt="project-1" />
          <h3>PROJECT THREE</h3>
          <p>
            A simple portfolio without any indepth design, developed with html
            and inline styling .
          </p>
        </div>
      </div>
    </section>

    <!--CONTACT SECTION-->
    <section class="contact-section" id="contact">
      <h2>Contact Me</h2>
      <p>
        You're welcome to contact me for any new opportunities and collaboration
        with like-minded people
      </p>

      <form class="contact-form" id="contactForm">
        <input type="text" id="name" placeholder="Enter your name" required />
        <input type="email" id="email" placeholder="Enter your email" required />

        <textarea
          placeholder="type your message here....."
          required
          rows="5"
          cols="60"
          id="message"  
        ></textarea>

        <button type="submit">send message</button>
      </form>
    </section>


          <!-- MESSAGES SECTION -->
    <section class="message-section" id="messages">
        <h2>Message Received</h2>
        <div id="messagesContainer" class="messages-container">
            <p>Loading messages...</p>
        </div>
    </section>


<!--FOOTER SECTION-->
              <footer class="footer-section">
          <div class="socials">
            <p>connect with me</p>
            <a href="https://linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=lyn-matthew-1bb290389 ">linkedin</a>
            <a href="https://www.facebook.com/share/16GwXxk6rD/">facebook</a>
          </div>
           <p>Â© 2025 Lyn Mathew | All Rights Reserved</p>
        </footer>



     <!-- JS -->
    <script>
        const form = document.getElementById("contactForm");

        // -------------------------------
        // SEND MESSAGE TO BACKEND
        // -------------------------------
        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const message = document.getElementById("message").value;

            try {
                const response = await fetch("http://localhost:3000/contact", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ name, email, message })
                });

                const data = await response.json();

                if (response.ok) {
                    alert("Your message has been sent successfully ðŸŽ‰");
                    form.reset();
                    loadMessages(); // refresh list
                } else {
                    alert("Failed to send message: " + data.error);
                }
            } catch (error) {
                alert("Error connecting to the backend. Is the server running?");
                console.error(error);
            }
        });

        // -------------------------------
        // GET MESSAGES FROM BACKEND
        // -------------------------------
        async function loadMessages() {
            const container = document.getElementById("messagesContainer");
            container.innerHTML = "Loading messages...";

            try {
                const response = await fetch("http://localhost:3000/contacts");
                const messages = await response.json();

                if (messages.length === 0) {
                    container.innerHTML = "<p>No messages yet.</p>";
                    return;
                }

                container.innerHTML = "";

                messages.forEach(msg => {
                    const time = new Date(msg.receivedAt._seconds * 1000).toLocaleString();

                    const card = document.createElement("div");
                    card.className = "message-card";
                    card.innerHTML = `
                        <h3>${msg.name}</h3>
                        <p><strong>Email:</strong> ${msg.email}</p>
                        <p>${msg.message}</p>
                        <span class="timestamp">${time}</span>
                    `;
                    container.appendChild(card);
                });

            } catch (error) {
                container.innerHTML = "<p>Failed to load messages.</p>";
                console.error(error);
            }
        }

        // Load messages automatically when page opens
        loadMessages();
    </script>

  



  </body>
  
</html>
